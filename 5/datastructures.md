# 5. ساختارهای داده

این فصل برخی از چیزهایی که قبلاً یاد گرفته‌اید را با جزئیات بیشتری توضیح می‌دهد و همچنین موارد جدیدی را نیز اضافه می‌کند.

## 5.1. اطلاعات بیشتر در مورد لیست‌ها 

نوع داده لیست تعدادی متدهای بیشتری دارد. در اینجا تمام متدهای مربوط به اشیاء لیست آمده است:

**list.append(x)**  
یک آیتم را به انتهای لیست اضافه می‌کند. معادل است با `a[len(a):] = [x]`.

**list.extend(iterable)**  
لیست را با افزودن تمام آیتم‌های قابل پیمایش (iterable) گسترش می‌دهد. معادل است با `a[len(a):] = iterable`.

**list.insert(i, x)**  
یک آیتم را در موقعیت مشخص‌شده قرار می‌دهد. اولین آرگومان اندیس عنصری است که قبل از آن باید درج شود، بنابراین `a.insert(0, x)` آیتم را در ابتدای لیست درج می‌کند و `a.insert(len(a), x)` معادل با `a.append(x)` است.

**list.remove(x)**  
اولین آیتمی که مقدار آن برابر با x باشد را از لیست حذف می‌کند. اگر چنین آیتمی وجود نداشته باشد، خطای [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError) ایجاد می‌شود.

**list.pop([i])**  
آیتم موجود در موقعیت مشخص‌شده را از لیست حذف کرده و آن را برمی‌گرداند. اگر اندیسی مشخص نشود، `a.pop()` آخرین آیتم لیست را حذف کرده و برمی‌گرداند. اگر لیست خالی باشد یا اندیس خارج از محدوده باشد، خطای `IndexError` رخ می‌دهد.

**list.clear()**  
همه آیتم‌های لیست را حذف می‌کند. معادل با `del a[:]`.

**list.index(x[, start[, end]])**  
اندیس اولین آیتمی که مقدار آن برابر با x باشد را بازمی‌گرداند. اگر چنین آیتمی وجود نداشته باشد، خطای `ValueError` رخ می‌دهد.

آرگومان‌های اختیاری `start` و `end` مشابه با نحو برش (slice notation) تفسیر می‌شوند و برای محدود کردن جستجو به زیرمجموعه‌ای از لیست استفاده می‌شوند. اندیس بازگشتی نسبت به ابتدای دنباله کامل محاسبه می‌شود و نه آرگومان `start`.

**list.count(x)**  
تعداد دفعاتی که x در لیست ظاهر شده را بازمی‌گرداند.

**list.sort(*, key=None, reverse=False)**  
آیتم‌های لیست را به صورت محلی مرتب می‌کند (آرگومان‌ها می‌توانند برای سفارشی‌سازی مرتب‌سازی استفاده شوند، برای توضیح آن‌ها به تابع `sorted()` مراجعه کنید).

**list.reverse()**  
عناصر لیست را به صورت محلی معکوس می‌کند.

**list.copy()**  
یک نسخه سطحی (shallow copy) از لیست را بازمی‌گرداند. معادل با `a[:]`.

مثالی که از اکثر متدهای لیست استفاده می کند:
``` python
>>> fruits = ['orange', 'apple', 'pear', 'banana', 'kiwi', 'apple', 'banana']
>>> fruits.count('apple')
2
>>> fruits.count('tangerine')
0
>>> fruits.index('banana')
3
>>> fruits.index('banana', 4)  # Find next banana starting at position 4
6
>>> fruits.reverse()
>>> fruits
['banana', 'apple', 'kiwi', 'banana', 'pear', 'apple', 'orange']
>>> fruits.append('grape')
>>> fruits
['banana', 'apple', 'kiwi', 'banana', 'pear', 'apple', 'orange', 'grape']
>>> fruits.sort()
>>> fruits
['apple', 'apple', 'banana', 'banana', 'grape', 'kiwi', 'orange', 'pear']
>>> fruits.pop()
'pear'
```

ممکن است متوجه شده باشید که متدهایی مانند `insert`، `remove` یا `sort` که فقط لیست را تغییر می‌دهند، هیچ مقدار بازگشتی چاپ نمی‌کنند – این متدها مقدار پیش‌فرض `None` را بازمی‌گردانند. [1^] این یک اصل طراحی برای تمام ساختارهای داده قابل تغییر (mutable) در پایتون است.

چیز دیگری که ممکن است متوجه شوید این است که همه داده‌ها قابل مرتب‌سازی یا مقایسه نیستند. به عنوان مثال، `[None, 'hello', 10]` قابل مرتب‌سازی نیست، زیرا اعداد صحیح قابل مقایسه با رشته‌ها نیستند و `None` نیز با دیگر نوع‌ها قابل مقایسه نیست. همچنین، برخی از نوع‌ها رابطه ترتیبی تعریف‌شده‌ای ندارند. به عنوان مثال، مقایسه `3+4j < 5+7j` معتبر نیست.

### 5.1.1. استفاده از لیست‌ها به‌عنوان پشته‌ها

متدهای لیست استفاده از لیست به عنوان یک پشته (stack) را بسیار آسان می‌کنند، جایی که آخرین عنصر اضافه شده اولین عنصری است که بازیابی می‌شود ("آخرین ورودی، اولین خروجی"). برای اضافه کردن یک آیتم به بالای پشته از `append()` استفاده کنید. برای بازیابی یک آیتم از بالای پشته، از `pop()` بدون مشخص کردن اندیس استفاده کنید. برای مثال:

``` python
>>> stack = [3, 4, 5]
>>> stack.append(6)
>>> stack.append(7)
>>> stack
[3, 4, 5, 6, 7]
>>> stack.pop()
7
>>> stack
[3, 4, 5, 6]
>>> stack.pop()
6
>>> stack.pop()
5
>>> stack
[3, 4]
```
